LDFLAGS += -L. -lm -lcmocka
CCFLAGS = -g -ggdb -std=c89 -pedantic -Wall -Wextra -Wstrict-prototypes -Wshadow -Wno-sign-compare -Wconversion

########################################################################
## Toplevel targets
all: unittest

clean:
	IF EXIST "unittest.o" DEL /F unittest.o
	IF EXIST "unittest.exe" DEL /F unittest.exe

########################################################################
## Programs
unittest: unittest.o 
	${CC} ${CCFLAGS} -o unittest unittest.o ${LDFLAGS}  


########################################################################
## Additional dependencies
unittest.o: unittest.c
	${CC} -c ${CCFLAGS} -o unittest.o unittest.c 
	